<div class="res-heading" id="top-form-color">
  <h2 mat-dialog-title id="form-headinghtwo">Add Issue Tracker</h2>
</div>

 <div class="form-container">
  <form [formGroup]="issueForm" (ngSubmit)="onSubmit()">
 
    <div class="form-row">
        <mat-form-field appearance="fill" class="half-width">
          <mat-select formControlName="region" placeholder="Region">
         <mat-option *ngFor="let region of regions" [value]="region">
          {{ region }}
        </mat-option>
        </mat-select>
      <mat-error *ngIf="issueForm.get('region')?.touched && issueForm.get('region')?.hasError('required')">Region is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="reported_by" placeholder="Reported By"/>
    </mat-form-field>
    </div>

    <div class="form-row">
    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="campaign_name" placeholder="Campaign Name"/>
    </mat-form-field>

    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="workstream" placeholder="Workstream"/>
    </mat-form-field>
    </div>

    <div class="form-row dtae">
       <!-- Date Picker -->
    <mat-form-field appearance="fill" class="half-width" id="date-picker">
      <input matInput [matDatepicker]="picker" formControlName="reported_date" placeholder="Reported Date" required />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="issueForm.get('reported_date')?.touched && issueForm.get('reported_date')?.hasError('required')">Reported Date is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="ticket_no" placeholder="Ticket No"/>
    </mat-form-field>
    </div>

    <div class="form-row">
    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="stage" placeholder="Stage Effected"/>
    </mat-form-field>

        <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="paid" placeholder="Paid"/>
    </mat-form-field>
    </div>
    <div class="form-row">
    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="likelyhood" placeholder="Likelyhood"/>
    </mat-form-field>

        <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="impact" placeholder="Impact"/>
    </mat-form-field>
    </div>

    <div class="form-row">
    <mat-form-field appearance="fill" class="half-width">
      <input matInput formControlName="issue_owner" placeholder="Issue Owner"/>
    </mat-form-field>

          <mat-form-field appearance="fill" class="half-width">
    <mat-select formControlName="status" placeholder="Status">
      <mat-option *ngFor="let s of statuses" [value]="s">{{ s }}</mat-option>
    </mat-select>
    <mat-error *ngIf="issueForm.get('status')?.hasError('required')">Status is required</mat-error>
  </mat-form-field>
    </div>

          <mat-form-field appearance="fill" class="full-width">
      <textarea matInput formControlName="issue_description" placeholder="Issue Description"></textarea>
    </mat-form-field>
    
    <mat-form-field appearance="fill" class="full-width">
      <textarea matInput formControlName="mitigation_plan" placeholder="Mitigation Plan"></textarea>
    </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
      <textarea matInput formControlName="rc_summary" placeholder="RC Summary"></textarea>
    </mat-form-field>

       <!-- Actions -->
    <div mat-dialog-actions align="end">
      <button mat-button type="button" class="close-btn-col" (click)="onCancel()">Close</button>
      <button mat-raised-button color="primary" type="submit" class="add-btn-col" [disabled]="!issueForm.valid">
        Save
      </button>
    </div>
</form>
</div>
